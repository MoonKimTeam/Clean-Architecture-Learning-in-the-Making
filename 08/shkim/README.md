# 경계 간 매핑하기

## 매핑하지 않기 전략

<img width="665" alt="스크린샷 2024-11-17 오후 8 23 37" src="https://github.com/user-attachments/assets/c995c9f0-3c0c-4056-8b81-9981dd15f646">

Account 클래스는 웹, 애플리케이션, 영속성 계층과 관련된 이유로 인해 변경돼야 하기 때문에 단일 책임 원칙을 위반한다. <br>
기술적인 요구사항이 아니더라도, 각 계층이 Account 클래스에 특정 커스텀 필드를 두도록 요구할 수 있다. <br>
그 결과, 오로지 한 계층에서만 필요한 필드들을 포함하는 파편화된 도메인 모델로 이어질 수 있다.

## 양방향 매핑 전략

<img width="693" alt="스크린샷 2024-11-17 오후 8 25 59" src="https://github.com/user-attachments/assets/aac348bf-f8db-4041-a7c9-fdb2d46198ab">

각 계층은 도메인 모델과는 완전히 다른 구조의 전용 모델을 가지고 있다. <br>
웹 계층에서는 웹 모델을 인커밍 포트에서 필요한 도메인 모델로 매핑하고, 인커밍 포트에 의해 반환된 도메인 객체를 다시 웹 모델로 매핑한다. <br>
단점으로는 너무 많은 보일러플레이트 코드가 생기고, 또 도메인 모델이 계층 경계를 넘어서 통신하는 데 사용된다.

## 완전 매핑 전략

<img width="720" alt="스크린샷 2024-11-17 오후 8 27 44" src="https://github.com/user-attachments/assets/7dd5d4e3-8833-43e2-bf05-37b5e009879c">

이 매핑 전략에서는 각 연산마다 별도의 입출력 모델을 사용한다. <br>
계층 경계를 넘어 통신할 때 도메인 모델을 사용하는 대신 그림의 SendMoneyUseCase 포트의 입력 모델로 동작하는 SendMoneyCommand처럼 각 작업에 특화된 모델을 사용한다.





